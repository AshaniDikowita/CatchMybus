<!--
  Generated template for the ManagerSearchResults page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Search results</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

<ion-card *ngFor="let bus of BusDetailsResults | async">
  <div *ngIf="from==bus.From && to==bus.To && timeToMins(time)>=timeToMins(bus.StartTime)">
  <ion-item>
    <ion-icon name="bus" item-left large></ion-icon>
    <p>{{bus.Busno}}</p>
  </ion-item>

  <ion-item>
    <ion-icon name="clock" item-left large ></ion-icon>
    <p>The bus will leave at {{bus.StartTime}}</p>
    <p> from {{bus.From}}</p>
  </ion-item>

  <!--<ion-item>
    <ion-icon name="person" item-left large ></ion-icon>
    <p>seats left {{bus.StartTime}} </p>
  </ion-item>-->

<ion-item>
       <button ion-button class="BookNowButton" (click)="DirectToSeatingPlan(bus.Busno,bus.Starttime,bus.Amount,bus.$key,bus.SheetDetails,bus.sheetFee)">
      Book Now!
    </button>
</ion-item>

</div>

</ion-card>


</ion-content>
